{"version":3,"sources":["components/EntryForm.js","components/EntryList.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["EntryForm","props","nameValue","numberValue","handleNameChange","handleNumberChange","handleClick","value","onChange","type","onClick","EntryList","persons","filter","personsToShow","person","name","includes","map","number","id","Filter","handleChange","Notification","message","error","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","serverUrl","axios","get","then","response","data","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notMessage","setNotMessage","notError","setNotError","notify","setTimeout","useEffect","personService","catch","console","log","updatePerson","personToUpdate","window","confirm","newPerson","event","target","preventDefault","temp","find","toLowerCase","concat","personToDelete","status","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.534504cf.chunk.js","sourcesContent":["import React from \"react\"\n\nconst EntryForm = (props) => {\n  const {nameValue, numberValue,\n          handleNameChange, handleNumberChange,\n          handleClick} = props;\n\n  return (\n    <form>\n      <div>\n        name: <input value={nameValue} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={numberValue} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={handleClick}>add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default EntryForm;","import React from \"react\"\n\nconst EntryList = ({persons, filter, handleClick}) => {\n  const personsToShow = \n    filter === \"\" ? persons\n      : persons.filter(person => \n          person.name.includes(filter));\n\n  return (\n    <ul>\n    {\n      personsToShow.map(person =>\n        <li key={person.id}>\n          {person.name}: {person.number}\n          <button onClick={handleClick(person)}>delete</button>\n        </li>  \n      )\n    }\n    </ul>\n  );\n};\n\nexport default EntryList;","import React from \"react\"\n\nconst Filter = ({value, handleChange}) => {\n  return (\n    <div>\n    find a person: <input value={value} onChange={handleChange}/>\n    </div>\n  );\n};\n\nexport default Filter;","import React from \"react\"\n\nconst Notification = ({message, error}) => {\n  if(message === null) {\n    return null;\n  }\n\n  const infoStyle = {\n    color: \"green\",\n    background: \"lightgray\",\n    fontSize: \"18px\",\n    borderStyle: \"solid\",\n    borderRadius: \"5px\",\n    padding: \"10px\",\n    marginBottom: \"10px\",\n  };\n\n  const errorStyle = {\n    color: \"red\",\n    background: \"lightgray\",\n    fontSize: \"18px\",\n    borderStyle: \"solid\",\n    borderRadius: \"5px\",\n    padding: \"10px\",\n    marginBottom: \"10px\",\n  };\n\n  const style = error ? errorStyle : infoStyle;\n\n  return (\n    <div style={style}>\n    {message}\n    </div>\n  );\n}\n\nexport default Notification;","import axios from \"axios\"\n\nconst serverUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios\n          .get(serverUrl)\n          .then(response => response.data);\n};\n\nconst add = (person) => {\n  return axios\n          .post(serverUrl, person)\n          .then(response => response.data);\n};\n\nconst update = (person) => {\n  return axios\n          .put(`${serverUrl}/${person.id}`, person)\n          .then(response => response.data);\n\n};\n\nconst remove = (id) => {\n  return axios\n          .delete(`${serverUrl}/${id}`)\n          .then(response => response.data);\n};\n\nexport default { getAll, add, update, remove };","import React, {useState, useEffect} from \"react\"\nimport EntryForm from \"./components/EntryForm\"\nimport EntryList from \"./components/EntryList\"\nimport Filter from \"./components/Filter\"\nimport Notification from \"./components/Notification\"\nimport personService from \"./services/persons\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notMessage, setNotMessage] = useState(null);\n  const [notError, setNotError] = useState(false);\n\n  const notify = (message, error) => {\n    setNotMessage(message);\n    setNotError(error);\n    setTimeout(() => {\n      setNotMessage(null);\n    }, 5000);\n  };\n\n  useEffect(() => {\n    personService.getAll()\n      .then(response => {\n        setPersons(response);\n      })\n      .catch(error => {\n        console.log(error);\n        notify(\"Loading the phonebook failed, check console for details!\", true);\n      });\n  }, []);\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value);\n  };\n  \n  const handleName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    if(newName === \"\" || newNumber === \"\") {\n      notify(\"Specify a name and a number please!\", true);\n      return;\n    }\n\n    const temp = persons.find(person => \n      person.name.toLowerCase() === newName.toLowerCase());\n    if(temp) {\n      updatePerson(temp)\n      return;\n    }\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    };\n\n    personService.add(newPerson)\n    .then(response => {\n      notify(`Added ${response.name} to the phonebook!`, false);\n      setPersons(persons.concat(response));\n    })\n    .catch(error => {\n      console.log(error);\n      notify(error.response.data.error, true);\n    });\n  };\n\n  const updatePerson = (personToUpdate) => {\n    if(!window.confirm(`${personToUpdate.name} is already added in the phonebook, replace the old number with a new one?`)) {\n      return;\n    }\n\n    const newPerson = { ...personToUpdate, number: newNumber };    \n\n    personService\n      .update(newPerson)\n      .then(response => {\n        notify(`Changed ${response.name}'s number from ${personToUpdate.number} to ${response.number}!`, false);\n        setPersons(persons.map(person => person.id !== response.id ? person : response));\n      })\n      .catch(error => {\n        console.log(error);\n        notify(error.response.data.error, true);\n      });\n  };\n\n  const deletePerson = (personToDelete) => () => {\n    if(!window.confirm(`Are you sure you want to delete ${personToDelete.name}`)) {\n      return;\n    }\n\n    personService\n        .remove(personToDelete.id)\n        .then(response => {\n            notify(`Deleted ${personToDelete.name} from the phonebook!`, false);\n            setPersons(persons.filter(person => person.id !== personToDelete.id));\n        })\n        .catch(error => {\n            if(error.response.status === 404) {\n              notify(`${personToDelete.name} was already deleted from the phonebook!`, true);\n              setPersons(persons.filter(person => person.id !== personToDelete.id));\n            } else {\n              console.log(error);\n              notify(`Deleting ${personToDelete.name} from the phonebook failed, check console for details!`, true);\n            }\n        })\n  };\n\n  return (\n    <div>\n      <Notification message={notMessage} error={notError} />\n      <h2>Phonebook</h2>\n      <Filter value={filter} handleChange={handleFilter}/>\n      <h2>Add new entry</h2>\n      <EntryForm\n        nameValue={newName} numberValue={newNumber}\n        handleNameChange={handleName} handleNumberChange={handleNumber}\n        handleClick={addPerson}  \n      />\n      <h2>Numbers</h2>\n      <EntryList persons={persons} filter={filter} handleClick={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;","import ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(\n  <App />,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}